## **Black Box Testing**

**Automated scans only find low-hanging fruits**  
Mapping an application it is extremely important to find real and critical vulnerabilities.  
Sending/spamming malicious payloads against an application with no prior knowledge about the application ins-and-outs is what automated scanners do.  
Manual mapping is what let you find golden treasures. 

### :mag: **Map the application**
- Access all of available pages
- Make note of input vectors taking with the backend
- Try to understand the logic behind the application
- Find subdomains related to the application
- Enumerate directories and hidden pages

**Directory Traversal**
- Identify all instances where the web application appears to contain the name of a file or directory
- Identify all functions in the application whose implementation is likely to involve retrieval of data from a server filesystem

### **Fuzz the application**

**SQLi**
- Submit SQL-specific characters such as **'**, **"**, **#** or **--** and look for errors or other anomalies*
- Submit Boolean conditions such as **OR 1=1** and **OR 1=2**, and look for differences in the application's responses
- Submit payloads designed to trigger time delays when executed within a SQL query, and look for differences in the time taken to respond
- Submit OAST payloads designed to trigger an out-of-band network interaction when executed within an SQL query, and monitor for any resulting interactions

**Directory Traversal**
- Test identified instances with common directory traversal payloads and observe how the application responds
```
../../etc/passwd
../.htaccess
\..\Windows\win.ini
[...]
```
This process is long and tedious, so automated scanners (WAVS - Web Application Vulnerability Scanners) or fuzzers might be a good choice.

\* Automated scanners fuzz the application but are not able to interpret error messages and refine the payload

____

## **White Box Testing**

### **Enable Web Server logging**
### **Enable database logging**

Logs help in seeing and understanding what the application receives, what is being processed and why error messages are displayed. Having a clear picture, other than the actual application source code, is really important in finding vulnerabilities.  

### **Map the application**
- Repeat steps as if from a black-box perspective


**SQLi**
- Regex search on all instances in the code that talk to the database


**Directory Traversal**
- Identify all instances where user-supplied input is being passed to file APIs or as parameters to the operative system
    - Identify instances in a running application first (black-box perspective) and then review the code responsible for that functionality
    - Grep on functions in the code that are known to include and evaluate files on the server and review if they take user-supplied input
    - Use a tool to monitor all filesystem activity on the server. Then test each page of the application by inserting a single unique string. Set a filter in yuor monitoring tool for that specific string and identify all events that contain the string
- Validate potential directory traversal vulnerabilities on a running application

### **Code Review**
- Follow the code path for all input vectors